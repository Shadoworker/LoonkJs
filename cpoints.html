<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curve - ControlPoints</title>
</head>

<body>

    <svg xmlns="http://www.w3.org/2000/svg" id="scene" width="800" height="600" class="cursor_pen">
   
        <path d="M187,100C187,100 127,258 196,380" id="curve" fill="none" stroke="black"/>
        <path d="" id="newCurve" fill="none" stroke="blue"/>
      
            
    </svg>
    <script>
        var p =  document.querySelector("path");
        var d = p.getAttribute("d");
         

        let path = "M187,100C187,100 127,258 196,380";

        // Function to split a BÃ©zier curve into two smaller curves
        function splitBezier(t) {
        
        
        let startPoint = {x:187, y:100};
        let controlPoint1 = {x:187, y:100};
        let controlPoint2 = {x:127, y:258};
        let endPoint = {x:196, y:380};

        
        let B0 = [(1 - t) * startPoint.x + t * controlPoint1.x, (1 - t) * startPoint.y + t * controlPoint1.y];
        let B1 = [(1 - t) * controlPoint1.x + t * controlPoint2.x, (1 - t) * controlPoint1.y + t * controlPoint2.y];
        let B2 = [(1 - t) * controlPoint2.x + t * endPoint.x, (1 - t) * controlPoint2.y + t * endPoint.y];
        let B01 =   [(1 - t) * B0[0] + t * B1[0], (1 - t) * B0[1] + t * B1[1]];
        let B12 =   [(1 - t) * B1[0] + t * B2[0], (1 - t) * B1[1] + t * B2[1]];
        let B012 =  [(1 - t) * B01[0] + t * B12[0], (1 - t) * B01[1] + t * B12[1]];

        let newPath = `M${startPoint.x} ${startPoint.y} C${B0[0]} ${B0[1]},${B01[0]} ${B01[1]},${B012[0]} ${B012[1]} C${B12[0]} ${B12[1]},${B2[0]} ${B2[1]},${endPoint.x} ${endPoint.y}`;

        return newPath;
        
        }

        // Example usage
        let t = 0.75;
        let newPath = splitBezier(t);
       
        var rep = document.querySelector("#newCurve");
        var newD = newPath;
        console.log(newD)
        rep.setAttribute("d", newD)

        
    </script>

</body>

</html>